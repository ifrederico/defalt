{{!--
  Announcement Bar Section Template

  A notification bar displayed at the top of the page.
  In production, content is sourced from a Ghost page tagged with #announcement-bar.
  In preview, displays customizable placeholder text.

  Context variables:
  - config: Section configuration object
  - padding: { top, bottom } padding values (unused, uses config directly)
  - isPreview: Boolean indicating if we're in preview mode
--}}

<style>
.announcement-bar {
  --announcement-bar-padding-top: {{default config.paddingTop 8}}px;
  --announcement-bar-padding-bottom: {{default config.paddingBottom 8}}px;
  --announcement-bar-background-color: {{default config.backgroundColor '#AC1E3E'}};
  --announcement-bar-text-color: {{default config.textColor '#ffffff'}};
  --announcement-bar-divider-thickness: {{default config.dividerThickness 0}}px;
  background-color: var(--announcement-bar-background-color);
  color: var(--announcement-bar-text-color);
  padding-top: var(--announcement-bar-padding-top);
  padding-bottom: var(--announcement-bar-padding-bottom);
  text-align: center;
  display: flex;
  align-items: center;
  justify-content: center;
  position: relative;
  border-bottom: var(--announcement-bar-divider-thickness) solid var(--color-light-gray);
}

.announcement-bar.gh-inner {
  max-width: var(--container-width);
  margin-left: auto;
  margin-right: auto;
}

.announcement-bar__text {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  flex-wrap: wrap;
  column-gap: 1.2rem;
  row-gap: 0.6rem;
  font-size: 1.4rem;
  line-height: 1.8rem;
  font-weight: 500;
  letter-spacing: 0.03em;
}

.announcement-bar__copy {
  display: inline-flex;
  align-items: center;
  white-space: pre-wrap;
}

.announcement-bar__copy a {
  color: inherit;
  text-decoration: none;
}

.announcement-bar--underline-links .announcement-bar__copy a {
  text-decoration: underline;
}

.announcement-bar__copy--rich {
  display: inline-flex;
  flex-wrap: wrap;
  align-items: center;
  justify-content: center;
}

.announcement-bar__copy--rich > p {
  margin: 0;
  display: inline;
}

.announcement-bar__copy--rich > :not(p:first-of-type) {
  display: none !important;
}

.announcement-bar--size-small .announcement-bar__text {
  font-size: 1.2rem;
  line-height: 1.6rem;
}

.announcement-bar--size-large .announcement-bar__text {
  font-size: 1.6rem;
  line-height: 2rem;
}

.announcement-bar--size-x-large .announcement-bar__text {
  font-size: 1.8rem;
  line-height: 2.2rem;
}

.announcement-bar--weight-light .announcement-bar__text {
  font-weight: 400;
}

.announcement-bar--weight-bold .announcement-bar__text {
  font-weight: 600;
}

.announcement-bar--spacing-tight .announcement-bar__text {
  letter-spacing: 0.01em;
}

.announcement-bar--spacing-wide .announcement-bar__text {
  letter-spacing: 0.08em;
}

.announcement-bar--uppercase .announcement-bar__text {
  text-transform: uppercase;
}
</style>

{{#with config}}
  {{#let
    sizeClass=(classIf (eq typographySize "small") "announcement-bar--size-small" (classIf (eq typographySize "large") "announcement-bar--size-large" (classIf (eq typographySize "x-large") "announcement-bar--size-x-large" "")))
    weightClass=(classIf (eq typographyWeight "light") "announcement-bar--weight-light" (classIf (eq typographyWeight "bold") "announcement-bar--weight-bold" ""))
    spacingClass=(classIf (eq typographySpacing "tight") "announcement-bar--spacing-tight" (classIf (eq typographySpacing "wide") "announcement-bar--spacing-wide" ""))
    caseClass=(classIf (eq typographyCase "uppercase") "announcement-bar--uppercase" "")
    underlineClass=(classIf underlineLinks "announcement-bar--underline-links" "")
    widthClass=(classIf (eq width "narrow") "gh-inner" "")
    previewContent=(default previewText "Tag #announcement-bar to a published Ghost page.")
  }}

<section
  class="announcement-bar {{sizeClass}} {{weightClass}} {{spacingClass}} {{caseClass}} {{underlineClass}} {{widthClass}}"
  id="announcement"
  role="status"
  aria-live="polite"
>
  <div class="announcement-bar__text" aria-label="Announcement">
    <div class="announcement-bar__copy announcement-bar__preview-copy">
      {{previewContent}}
    </div>
  </div>
</section>

  {{/let}}
{{/with}}
